#include <iostream>
#include <vector>
#include <algorithm>
using namespace std;

struct Edge {
    int u, v, w;
};

int find_set(int v, vector<int>& parent) {
    if (v == parent[v]) return v;
    return parent[v] = find_set(parent[v], parent);
}

void union_sets(int a, int b, vector<int>& parent, vector<int>& rnk) {
    a = find_set(a, parent);
    b = find_set(b, parent);
    if (a != b) {
        if (rnk[a] < rnk[b]) swap(a, b);
        parent[b] = a;
        if (rnk[a] == rnk[b]) rnk[a]++;
    }
}

int main() {
    vector<Edge> edges = {
        {4,6,1},{2,3,2},{1,4,3},{3,8,4},{5,6,4},{7,8,5},
        {1,2,6},{3,6,7},{6,7,8},{2,4,9},{2,6,9}
    };

    sort(edges.begin(), edges.end(),
         [](Edge a, Edge b){ return a.w < b.w; });

    vector<int> parent(9), rnk(9,0);
    for(int i=1;i<=8;i++) parent[i]=i;

    int total = 0;

    for (auto &e : edges) {
        if (find_set(e.u,parent) != find_set(e.v,parent)) {
            cout << e.u << " - " << e.v << " = " << e.w << endl;
            total += e.w;
            union_sets(e.u, e.v, parent, rnk);
        }
    }

    cout << "Total weight = " << total;
}
